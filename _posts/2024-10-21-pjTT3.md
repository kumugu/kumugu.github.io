---
layout: single
title: "테트리스 게임 만들기 2"
categories: GAME
tag: [TETRIS]
author_profile: false
sidebar:
    nav: "docs"
toc: true
toc_sticky: true
---

## 1. 테트로미노 정의하기
main.js 파일에 테트로미노 모양을 2차원 배열로 정의한다. <br/>
예를 들어, I 블록의 경우:

```javascript
const tetromino = [
    [1, 1, 1, 1]
];
```
이 배열에서 1은 블록의 일부가 있는 곳을 의미하고, 0은 블록이 없는 곳을 의미함.
I 블록은 한 줄로 4칸이 이어진 모양이므로 [1, 1, 1, 1]로 설정.


## 2. 테트로미노 그리기 함수 작성하기
이제 drawTetromino라는 함수를 만들어서 테트로미노를 그림.<br/> 
기본적인 구조는 아래와 같다:<br/>

```javascript
function drawTetromino() {
    // 테트로미노를 특정 위치(x, y)에 표시하기 위한 변수 설정
    const x = 3; // 예시로 열 위치를 3으로 설정
    const y = 0; // 행 위치는 상단(0)부터 시작

    // 반복문을 사용하여 테트로미노의 각 칸을 순회
    for (let row = 0; row < tetromino.length; row++) {
        for (let col = 0; col < tetromino[row].length; col++) {
            // 테트로미노 배열에서 값이 1인 곳만 그리기
            if (tetromino[row][col] === 1) {
                ctx.fillStyle = "cyan"; // 블록 색상 설정
                ctx.fillRect((x + col) * blockSize, (y + row) * blockSize, blockSize, blockSize);
            }
        }
    }
}
```

이 함수는 반복문을 사용하여 tetromino 배열의 각 칸을 확인하고, 값이 1인 경우 캔버스에 그림.<br/>

## 3. 함수 설명

```
const x = 3;와 const y = 0;은 테트로미노가 캔버스에 나타나는 시작 위치를 설정.
x는 열(column)의 시작 위치를 의미하며, 3으로 설정하면 캔버스의 4번째 열부터 테트로미노가 그려지게 됨.
y는 행(row)의 시작 위치를 의미하며, 0은 테트로미노가 화면 맨 위에서 시작하는 것을 의미함.
이중 for 반복문을 통해 tetromino 배열의 행과 열을 순회하면서 각 칸의 값을 확인.
안쪽 if 문: tetromino[row][col] === 1인 경우 블록을 fillRect()로 그림.
fillRect(x, y, width, height)는 사각형을 채우는 함수
(x + col) * blockSize: 열 위치를 계산하여 각 블록의 x 좌표를 설정.
(y + row) * blockSize: 행 위치를 계산하여 각 블록의 y 좌표를 설정.
```

## 4. 게임 보드에 그리기
마지막으로, drawTetromino 함수를 DOMContentLoaded 이벤트 안에 호출하고<br/>
게임 보드가 초기화될 때 함께 테트로미노가 표시되도록 함:<br/>
```javascript
document.addEventListener("DOMContentLoaded", () => {
    // 이전 코드 (캔버스와 그리드 초기화) ...

    drawGrid(); // 그리드를 그린 후
    drawTetromino(); // 테트로미노를 캔버스에 그리기
});
```
이렇게 구현하면 I 블록이 캔버스에 표시됨. 