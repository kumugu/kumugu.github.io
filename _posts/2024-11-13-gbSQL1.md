---
layout: single
title: "SQL"
toc: true
toc_sticky: true
categories: SQL
tag: [SQL]
author_profile: false
sidebar:
    nav: "docs"
---

## 주요 제약 조건
1. **NOT NULL**:

   - 특정 컬럼이 NULL 값을 가질 수 없도록 합니다. 모든 행에서 이 컬럼에 값을 반드시 제공해야 합니다.

   ```sql
   CREATE TABLE student (
       sNo VARCHAR2(10) PRIMARY KEY,
       sName VARCHAR2(50) NOT NULL,
       major VARCHAR2(30) NOT NULL,
       phone VARCHAR2(15),
       addr VARCHAR2(100)
   );
   ```

2. **PRIMARY KEY**:

   - 테이블의 각 행을 유일하게 식별하는 컬럼(또는 컬럼 집합)을 지정합니다. PRIMARY KEY는 자동으로 NOT NULL 제약 조건도 포함합니다.

   ```sql
   CREATE TABLE student (
       sNo VARCHAR2(10) PRIMARY KEY,
       sName VARCHAR2(50) NOT NULL,
       major VARCHAR2(30),
       phone VARCHAR2(15),
       addr VARCHAR2(100)
   );
   ```

3. **UNIQUE**:

   - 특정 컬럼의 값이 테이블 내에서 유일하도록 보장합니다.

   ```sql
   CREATE TABLE student (
       sNo VARCHAR2(10) PRIMARY KEY,
       sName VARCHAR2(50) UNIQUE,
       major VARCHAR2(30),
       phone VARCHAR2(15),
       addr VARCHAR2(100)
   );
   ```

4. **FOREIGN KEY**:

   - 다른 테이블의 PRIMARY KEY를 참조하여 두 테이블 간의 관계를 정의합니다.

   sql

   ```
   CREATE TABLE enrollment (
       enrollment_id NUMBER PRIMARY KEY,
       student_no VARCHAR2(10),
       course_id VARCHAR2(10),
       FOREIGN KEY (student_no) REFERENCES student(sNo)
   );
   ```

5. **CHECK**:

   - 특정 조건을 만족하는 값만 컬럼에 입력되도록 제한합니다.

   sql

   ```
   CREATE TABLE student (
       sNo VARCHAR2(10) PRIMARY KEY,
       sName VARCHAR2(50) NOT NULL,
       major VARCHAR2(30),
       phone VARCHAR2(15),
       addr VARCHAR2(100),
       age NUMBER CHECK (age >= 18)  -- 나이는 18 이상이어야 함
   );
   ```



```
1. 테이블 컬럼 추가하기(ALTER TABLE ADD)
[문법] ALTER TABLE 테이블명 ADD(컬럼명 데이타타입(사이즈));
( EX ) USER라는 테이블에 USER_NAME이라는 컬럼을 VARCHAR2(13) 타입으로 추가할 때
-> ALTER TABLE USER ADD(USER_NAME VARCHAR2(13)); 
 
2. 테이블 컬럼 수정하기(ALTER TABLE MODIFY)
[문법] ALTER TABLE 테이블명 MODIFY(컬럼명 테이타타입(사이즈));
( EX ) USER라는 테이블에 USER_AGE 라는 컬럼을 NUMBER(3) 타입으로 수정할 때
-> ALTER TABLE USER MODIFY(USER_AGE NUMBER(3));
 
3. 테이블 컬럼 삭제하기(ALTER TABLE DROP)
[문법] ALTER TABLE 테이블명 DROP COLUMN 컬럼명
( EX ) USER라는 테이블에 USER_NAME 이라는 컬럼을 삭제할 때
-> ALTER TABLE USER DROP COLUMN USER_NAME;
 
4. 테이블 컬럼 이름 변경하기(ALTER TABLE RENAME)
[문법] ALTER TABLE 테이블명 RENAME COLUMN 원래컬럼명 TO 바꿀컬럼명;
( EX ) USER라는 테이블에 USER_NAME 이라는 컬럼을 USER_FIRST_NAME으로 변경할 때
-> ALTER TABLE USER RENAME COLUMN USER_NAME TO USER_FIRST_NAME;
```






## DDL (Data Definition Language):

1. 데이터베이스 구조를 정의하고 변경하는 언어
2. 주요 명령어:
   - CREATE: 새로운 데이터베이스 객체 생성
   - ALTER: 기존 객체의 구조 변경
   - DROP: 객체 삭제
   - TRUNCATE: 테이블의 모든 데이터 삭제 (구조는 유지)
   - RENAME: 객체 이름 변경
   - COMMENT: 주석 추가

예시:

```sql
CREATE TABLE employees (
    emp_id NUMBER PRIMARY KEY,
    name VARCHAR2(100)
);
ALTER TABLE employees ADD salary NUMBER;
DROP TABLE employees;
```

## DML (Data Manipulation Language):

1. 데이터베이스 내의 데이터를 조작하는 언어
2. 주요 명령어:
   - SELECT: 데이터 조회
   - INSERT: 새로운 데이터 삽입
   - UPDATE: 기존 데이터 수정
   - DELETE: 데이터 삭제
   - MERGE: 조건에 따라 INSERT 또는 UPDATE 수행

```sql
INSERT INTO employees (emp_id, name) VALUES (1, '홍길동');
UPDATE employees SET salary = 5000 WHERE emp_id = 1;
DELETE FROM employees WHERE emp_id = 1;
SELECT * FROM employees WHERE salary > 3000;
```

주요 차이점:
1. DDL은 자동 커밋되지만, DML은 명시적으로 COMMIT/ROLLBACK을 해야 합니다
2. DDL은 데이터베이스 구조를 변경하고, DML은 데이터 자체를 다룹니다
3. DDL은 시스템 권한이 필요하지만, DML은 객체 권한으로 충분합니다