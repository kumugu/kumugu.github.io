---
layout: single
title: "테트리스 게임 만들기 1"
categories: GAME
tag: [TETRIS]
author_profile: false
sidebar:
    nav: "docs"
toc: true
toc_sticky: true
---

# 테트리스 게임 만들기 1

## 1. index.html에서 `<canvas>` 요소 설정하기
우선 index.html 파일 안에 `<canvas>` 태그를 추가한다.<br/>

```html
<canvas id="gameCanvas" width="300" height="600"></canvas>
```
여기서 id는 gameCanvas로 설정하고, width, height를 설정.<br/>
300px: 10열(칸) × 30px (각 칸의 가로 크기)<br/>
600px: 20행(칸) × 30px (각 칸의 세로 크기)<br/>

## 2. main.js에서 Canvas 초기화하기    
main.js 파일에 아래 코드를 작성<br/>

```javascript
document.addEventListener("DOMContentLoaded", () => {
    // HTML에서 canvas 요소를 가져옴.
    const canvas = document.getElementById("gameCanvas");
    // 2D 그리기 컨텍스트를 가져옴.
    const ctx = canvas.getContext("2d");

    // 그리드의 행과 열, 각 블록의 크기 정의
    const rows = 20; // 행의 개수
    const cols = 10; // 열의 개수
    const blockSize = 30; // 각 칸의 크기

    // 그리드를 그리는 함수 정의
    function drawGrid() {
        // 회색 선으로 그리드의 경계선을 그림.
        ctx.strokeStyle = "gray";
        for (let row = 0; row < rows; row++) {
            for (let col = 0; col < cols; col++) {
                // 각 칸을 캔버스에 그림.
                ctx.strokeRect(col * blockSize, row * blockSize, blockSize, blockSize);
            }
        }
    }

    // 그리드 그리기 함수 호출
    drawGrid();
});

```
Canvas 요소 가져오기: document.getElementById("gameCanvas")를 통해 HTML에 있는`<canvas>`를 가져옴.<br/>
2D 컨텍스트 가져오기: getContext("2d")로 그리기 도구를 가져옴.<br/>
그리드 그리기: drawGrid() 함수는 반복문을 사용해 전체 보드(10 x 20)의 사각형을 그림.<br/>

```
보드의 각 칸은 행(row)과 열(column)로 이루어져 있기 때문에, 행을 기준으로 한 번 반복하고, 각 행 안에서 열을 반복하는 구조

1. 바깥쪽 for 반복문 (for (let row = 0; row < rows; row++))
역할: 보드의 각 행을 순서대로 반복. row는 현재 행의 인덱스를 의미.
반복 횟수: rows의 값은 20이므로, 0부터 19까지 총 20번 반복.
기능: 현재 행(row)의 모든 열(column)을 그리기 위해 안쪽 반복문을 호출.

2. 안쪽 for 반복문 (for (let col = 0; col < cols; col++))
역할: 현재 행(row)에서 모든 열(col)을 반복. col은 현재 열의 인덱스를 의미.
반복 횟수: cols의 값은 10이므로, 0부터 9까지 총 10번 반복.
기능: 현재 위치의 칸을 캔버스에 그림.

3. ctx.strokeRect()
ctx.strokeRect(x, y, width, height)는 사각형의 외곽선을 그리는 함수.
매개변수:
x: 사각형의 왼쪽 상단 x 좌표. col * blockSize는 현재 열의 인덱스에 칸의 크기(blockSize)를 곱해 위치를 계산.
y: 사각형의 왼쪽 상단 y 좌표. row * blockSize는 현재 행의 인덱스에 칸의 크기(blockSize)를 곱해 위치를 계산.
width: 사각형의 가로 길이로, blockSize 값.
height: 사각형의 세로 길이로, blockSize 값.
이 함수는 각각의 칸을 캔버스에 그리면서, 그리드 형태를 만든다.

요약
바깥 반복문은 행(row)을, 안쪽 반복문은 열(column)을 순회하며 칸을 그리고,
각 칸의 위치는 (col * blockSize, row * blockSize)로 계산하여 캔버스에 그림.
이 반복문을 통해 게임 보드 전체에 총 20 x 10 = 200개의 사각형이 그려지게 됨.
```


## 3. style.css에서 Canvas 스타일 지정하기
style.css 파일에 다음 스타일을 추가:<br/>

```css
canvas {
    background-color: #000; /* 캔버스 배경색: 검정색 */
    border: 2px solid #fff; /* 캔버스 외곽선: 흰색 */
    display: block;
    margin: 0 auto; /* 가운데 정렬 */
}
```
이 스타일은 캔버스를 검은색 배경에 흰색 테두리를 가지도록 설정<br/>
브라우저에서 게임 보드에 10 x 20 칸의 회색 그리드가 보이면 성공.<br/>